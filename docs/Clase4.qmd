---
title: "Clase 4: Uso de landscapemetrics"
format: html
editor: visual
---

```{r}
library(tidyverse)
library(landscapemetrics)
library(terra)
library(sf)
library(ggthemes)
```


::: panel-tabset

## Cargar base de datos y raster

- Cargar vector

```{r}
PuntosConteo <- st_read("data/Point_counts.gpkg")
plot(PuntosConteo["Site"])
```

- Cargar Rater

```{r}
CoberturaYoro <- rast("data/export.classification.tif")
plot(CoberturaYoro)
```

- Revisar proyeccion de capas

```{r}
st_crs(PuntosConteo) ==  st_crs(CoberturaYoro)
```
- Hacer que ambas capas presenten la misma cobertura

```{r}
PuntosNueva <- st_transform(PuntosConteo, crs = st_crs(CoberturaYoro))

st_crs(PuntosNueva) ==  st_crs(CoberturaYoro)
```
- Visualizar ambas capas

```{r}
Yoro_df <- as.data.frame(CoberturaYoro, xy = TRUE)
PuntosConteo_df <- as.data.frame(PuntosNueva)

ggplot()+
  geom_raster(data= Yoro_df, aes(x=x, y=y, fill= export.classification))+
  geom_point(data = PuntosConteo_df, aes(x= LONG, y= LAT)) +
  theme_map()
```


:::

![HN Biology Investigation Academy](HN%20Cursos%20publicidad/HN%20Biology%20Inv%20large.jpg)
